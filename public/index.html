<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-nw-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <style>
      /* Custom styles for the frame */
      #custom-frame {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 30px;
        background-color: #333;
        color: #fff;
        -webkit-app-region: drag;
      }
      #custom-frame button {
        float: left;
        margin: 5px;
      }
      #custom-frame .close-button {
        float: right;
        margin: 5px;
      }
    </style>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>

    <!-- Custom frame -->
    <div id="custom-frame">
      <button id="minimize-button">-</button>
      <button id="maximize-button">+</button>
      <button class="close-button">x</button>
    </div>

    <!-- App content -->
    <div id="root"></div>

    <script>
      // Get a reference to the current window
      const win = nw.Window.get();

      // Make the window draggable
      const frame = document.getElementById('custom-frame');
      frame.addEventListener('mousedown', (e) => {
        if (e.target !== document.querySelector('.close-button')) {
          win.dragFrame();
        }
      });

      // Maximize the window
      win.maximize();

      // Get references to the frame buttons
      const minimizeButton = document.getElementById('minimize-button');
      const maximizeButton = document.getElementById('maximize-button');
      const closeButton = document.querySelector('.close-button');

      // Minimize the window when the minimize button is clicked
      minimizeButton.addEventListener('click', () => {
        win.minimize();
      });

      // Maximize or restore the window when the maximize button is clicked
      maximizeButton.addEventListener('click', () => {
        if (win.isMaximized) {
          win.unmaximize();
        } else {
          win.maximize();
        }
      });

      // Close the window when the close button is clicked
      closeButton.addEventListener('click', () => {
        win.close();
      });
    </script>

  </body>
</html>
